<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1191px" preserveAspectRatio="none" style="width:1593px;height:1191px;background:#FFFFFF;" version="1.1" viewBox="0 0 1593 1191" width="1593px" zoomAndPan="magnify"><title>Photo Recognition &#8212; Happy Path</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="260.4082" x="667.3335" y="27.9951">Photo Recognition &#8212; Happy Path</text><rect fill="none" height="631.9922" style="stroke:#000000;stroke-width:1.5;" width="1576.0752" x="10" y="411.9219"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Tourist" id="part1-lifeline"><g><title>Tourist</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="43.2095" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="47" x2="47" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="app" id="part2-lifeline"><g><title>iOS . Android</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="233.8799" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="236.9561" x2="236.9561" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="alb" id="part3-lifeline"><g><title>ALB</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="405.0884" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="408.5977" x2="408.5977" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="auth" id="part4-lifeline"><g><title>Cognito</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="511.2461" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="515.2236" x2="515.2236" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="api" id="part5-lifeline"><g><title>Monolith API</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="618.6421" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="622.2305" x2="622.2305" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="db" id="part6-lifeline"><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="798.3057" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="801.9292" x2="801.9292" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="cache" id="part7-lifeline"><g><title>Redis</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="873.8877" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="877.6821" x2="877.6821" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="sqs" id="part8-lifeline"><g><title>SQS</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="930.4897" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="934.0933" x2="934.0933" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="lambda" id="part9-lifeline"><g><title>Lambda</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="1159.062" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1162.8774" x2="1162.8774" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part10" data-qualified-name="vision" id="part10-lifeline"><g><title>Google Vision</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="1386.1934" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1389.2393" x2="1389.2393" y1="118.5938" y2="1111.1797"/></g></g><g class="participant-lifeline" data-entity-uid="part11" data-qualified-name="gpt" id="part11-lifeline"><g><title>OpenAI GPT-4V</title><rect fill="#000000" fill-opacity="0.00000" height="992.5859" width="8" x="1511.6113" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1515.1475" x2="1515.1475" y1="118.5938" y2="1111.1797"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Tourist" id="part1-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4189" x="20" y="115.292">Tourist</text><ellipse cx="47.2095" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.2095,58.7969 L47.2095,85.7969 M34.2095,66.7969 L60.2095,66.7969 M47.2095,85.7969 L34.2095,100.7969 M47.2095,85.7969 L60.2095,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Tourist" id="part1-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4189" x="20" y="1123.1748">Tourist</text><ellipse cx="47.2095" cy="1134.9766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.2095,1142.9766 L47.2095,1169.9766 M34.2095,1150.9766 L60.2095,1150.9766 M47.2095,1169.9766 L34.2095,1184.9766 M47.2095,1169.9766 L60.2095,1184.9766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="app" id="part2-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8477" x="184.9561" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8477" x="191.9561" y="107.292">iOS / Android</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="app" id="part2-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8477" x="184.9561" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8477" x="191.9561" y="1130.1748">iOS / Android</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="alb" id="part3-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.9814" x="388.5977" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.9814" x="395.5977" y="107.292">ALB</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="alb" id="part3-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.9814" x="388.5977" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.9814" x="395.5977" y="1130.1748">ALB</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="auth" id="part4-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.0449" x="481.2236" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.0449" x="488.2236" y="107.292">Cognito</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="auth" id="part4-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.0449" x="481.2236" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.0449" x="488.2236" y="1130.1748">Cognito</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="api" id="part5-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.8232" x="572.2305" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.8232" x="579.2305" y="90.9951">Monolith API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.4316" x="603.4263" y="107.292">(ECS)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="api" id="part5-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.8232" x="572.2305" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.8232" x="579.2305" y="1130.1748">Monolith API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.4316" x="603.4263" y="1146.4717">(ECS)</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="db" id="part6-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="758.9292" y="115.292">PostgreSQL</text><path d="M784.3057,66.2969 C784.3057,56.2969 802.3057,56.2969 802.3057,56.2969 C802.3057,56.2969 820.3057,56.2969 820.3057,66.2969 L820.3057,92.2969 C820.3057,102.2969 802.3057,102.2969 802.3057,102.2969 C802.3057,102.2969 784.3057,102.2969 784.3057,92.2969 L784.3057,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M784.3057,66.2969 C784.3057,76.2969 802.3057,76.2969 802.3057,76.2969 C802.3057,76.2969 820.3057,76.2969 820.3057,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="db" id="part6-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="758.9292" y="1123.1748">PostgreSQL</text><path d="M784.3057,1136.4766 C784.3057,1126.4766 802.3057,1126.4766 802.3057,1126.4766 C802.3057,1126.4766 820.3057,1126.4766 820.3057,1136.4766 L820.3057,1162.4766 C820.3057,1172.4766 802.3057,1172.4766 802.3057,1172.4766 C802.3057,1172.4766 784.3057,1172.4766 784.3057,1162.4766 L784.3057,1136.4766" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M784.3057,1136.4766 C784.3057,1146.4766 802.3057,1146.4766 802.3057,1146.4766 C802.3057,1146.4766 820.3057,1146.4766 820.3057,1136.4766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="cache" id="part7-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.4111" x="855.6821" y="115.292">Redis</text><path d="M859.8877,66.2969 C859.8877,56.2969 877.8877,56.2969 877.8877,56.2969 C877.8877,56.2969 895.8877,56.2969 895.8877,66.2969 L895.8877,92.2969 C895.8877,102.2969 877.8877,102.2969 877.8877,102.2969 C877.8877,102.2969 859.8877,102.2969 859.8877,92.2969 L859.8877,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M859.8877,66.2969 C859.8877,76.2969 877.8877,76.2969 877.8877,76.2969 C877.8877,76.2969 895.8877,76.2969 895.8877,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="cache" id="part7-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.4111" x="855.6821" y="1123.1748">Redis</text><path d="M859.8877,1136.4766 C859.8877,1126.4766 877.8877,1126.4766 877.8877,1126.4766 C877.8877,1126.4766 895.8877,1126.4766 895.8877,1136.4766 L895.8877,1162.4766 C895.8877,1172.4766 877.8877,1172.4766 877.8877,1172.4766 C877.8877,1172.4766 859.8877,1172.4766 859.8877,1162.4766 L859.8877,1136.4766" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M859.8877,1136.4766 C859.8877,1146.4766 877.8877,1146.4766 877.8877,1146.4766 C877.8877,1146.4766 895.8877,1146.4766 895.8877,1136.4766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="sqs" id="part8-head"><path d="M915.0933,92.2969 L953.8862,92.2969 C958.8862,92.2969 958.8862,105.4453 958.8862,105.4453 C958.8862,105.4453 958.8862,118.5938 953.8862,118.5938 L915.0933,118.5938 C910.0933,118.5938 910.0933,105.4453 910.0933,105.4453 C910.0933,105.4453 910.0933,92.2969 915.0933,92.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M953.8862,92.2969 C948.8862,92.2969 948.8862,105.4453 948.8862,105.4453 C948.8862,118.5938 953.8862,118.5938 953.8862,118.5938" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="915.0933" y="110.292">SQS</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="sqs" id="part8-tail"><path d="M915.0933,1110.1797 L953.8862,1110.1797 C958.8862,1110.1797 958.8862,1123.3281 958.8862,1123.3281 C958.8862,1123.3281 958.8862,1136.4766 953.8862,1136.4766 L915.0933,1136.4766 C910.0933,1136.4766 910.0933,1123.3281 910.0933,1123.3281 C910.0933,1123.3281 910.0933,1110.1797 915.0933,1110.1797" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M953.8862,1110.1797 C948.8862,1110.1797 948.8862,1123.3281 948.8862,1123.3281 C948.8862,1136.4766 953.8862,1136.4766 953.8862,1136.4766" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="915.0933" y="1128.1748">SQS</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="lambda" id="part9-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.3691" x="1127.8774" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.3691" x="1134.8774" y="90.9951">Lambda</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.6299" x="1150.7471" y="107.292">(AI)</text></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="lambda" id="part9-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.3691" x="1127.8774" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.3691" x="1134.8774" y="1130.1748">Lambda</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.6299" x="1150.7471" y="1146.4717">(AI)</text></g><g class="participant participant-head" data-entity-uid="part10" data-qualified-name="vision" id="part10-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.9082" x="1335.2393" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.9082" x="1342.2393" y="107.292">Google Vision</text></g><g class="participant participant-tail" data-entity-uid="part10" data-qualified-name="vision" id="part10-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.9082" x="1335.2393" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.9082" x="1342.2393" y="1130.1748">Google Vision</text></g><g class="participant participant-head" data-entity-uid="part11" data-qualified-name="gpt" id="part11-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.9277" x="1455.1475" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.9277" x="1462.1475" y="107.292">OpenAI GPT-4V</text></g><g class="participant participant-tail" data-entity-uid="part11" data-qualified-name="gpt" id="part11-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.9277" x="1455.1475" y="1110.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.9277" x="1462.1475" y="1130.1748">OpenAI GPT-4V</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="225.8799,145.7266,235.8799,149.7266,225.8799,153.7266,229.8799,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="47.2095" x2="231.8799" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.2017" x="61.4438" y="144.6606">Takes photo of landmark</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#181818" points="397.0884,189.9922,407.0884,193.9922,397.0884,197.9922,401.0884,193.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="237.8799" x2="403.0884" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.2085" x="249.8799" y="173.7935">POST /api/recognitions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.0811" x="268.4436" y="188.9263">{photo: base64}</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#181818" points="503.2461,219.125,513.2461,223.125,503.2461,227.125,507.2461,223.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="409.0884" x2="509.2461" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.1577" x="421.0884" y="218.0591">Validate JWT</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg4"><polygon fill="#181818" points="420.0884,248.2578,410.0884,252.2578,420.0884,256.2578,416.0884,252.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="414.0884" x2="514.2461" y1="252.2578" y2="252.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="438.3159" y="247.1919">200 OK</text></g><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg5"><polygon fill="#181818" points="610.6421,277.3906,620.6421,281.3906,610.6421,285.3906,614.6421,281.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="409.0884" x2="616.6421" y1="281.3906" y2="281.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.1553" x="469.7876" y="276.3247">Route request</text></g><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg6"><line style="stroke:#181818;stroke-width:1;" x1="622.6421" x2="664.6421" y1="310.5234" y2="310.5234"/><line style="stroke:#181818;stroke-width:1;" x1="664.6421" x2="664.6421" y1="310.5234" y2="323.5234"/><line style="stroke:#181818;stroke-width:1;" x1="623.6421" x2="664.6421" y1="323.5234" y2="323.5234"/><polygon fill="#181818" points="633.6421,319.5234,623.6421,323.5234,633.6421,327.5234,629.6421,323.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.0024" x="629.6421" y="305.4575">Resize photo (max 2MB)</text></g><g class="message" data-entity-1="part5" data-entity-2="part6" id="msg7"><polygon fill="#181818" points="790.3057,363.7891,800.3057,367.7891,790.3057,371.7891,794.3057,367.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="622.6421" x2="796.3057" y1="367.7891" y2="367.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.6636" x="634.6421" y="347.5903">Save recognition record</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.4458" x="656.751" y="362.7231">(status: pending)</text></g><g class="message" data-entity-1="part5" data-entity-2="part7" id="msg8"><polygon fill="#181818" points="865.8877,392.9219,875.8877,396.9219,865.8877,400.9219,869.8877,396.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="622.6421" x2="871.8877" y1="396.9219" y2="396.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.5991" x="670.4653" y="391.856">Check photo hash cache</text></g><path d="M10,411.9219 L74.4429,411.9219 L74.4429,419.0547 L64.4429,429.0547 L10,429.0547 L10,411.9219" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="631.9922" style="stroke:#000000;stroke-width:1.5;" width="1576.0752" x="10" y="411.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="424.9888">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.9858" x="89.4429" y="424.1323">[Cache hit (known landmark)]</text><g class="message" data-entity-1="part7" data-entity-2="part5" id="msg9"><polygon fill="#181818" points="633.6421,446.1875,623.6421,450.1875,633.6421,454.1875,629.6421,450.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="627.6421" x2="876.8877" y1="450.1875" y2="450.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0933" x="687.7183" y="445.1216">Cached description</text></g><g class="message" data-entity-1="part5" data-entity-2="part3" id="msg10"><polygon fill="#181818" points="420.0884,475.3203,410.0884,479.3203,420.0884,483.3203,416.0884,479.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="414.0884" x2="621.6421" y1="479.3203" y2="479.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.5537" x="421.0884" y="474.2544">200 {description, attraction}</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg11"><polygon fill="#181818" points="248.8799,504.4531,238.8799,508.4531,248.8799,512.4531,244.8799,508.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="242.8799" x2="408.0884" y1="508.4531" y2="508.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.2393" x="286.8645" y="503.3872">JSON result</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg12"><polygon fill="#181818" points="58.2095,533.5859,48.2095,537.5859,58.2095,541.5859,54.2095,537.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="52.2095" x2="236.8799" y1="537.5859" y2="537.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.6704" x="59.2095" y="532.52">Show description + audio</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1586.0752" y1="546.5859" y2="546.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79.519" x="15" y="556.7964">[Cache miss]</text><g class="message" data-entity-1="part5" data-entity-2="part2" id="msg13"><polygon fill="#181818" points="248.8799,577.5234,238.8799,581.5234,248.8799,585.5234,244.8799,581.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="242.8799" x2="621.6421" y1="581.5234" y2="581.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.2173" x="329.1523" y="576.4575">202 Accepted {recognition_id}</text></g><g class="message" data-entity-1="part5" data-entity-2="part8" id="msg14"><polygon fill="#181818" points="922.4897,606.6563,932.4897,610.6563,922.4897,614.6563,926.4897,610.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="622.6421" x2="928.4897" y1="610.6563" y2="610.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.292" x="680.9199" y="605.5903">Enqueue photo for processing</text></g><g class="message" data-entity-1="part8" data-entity-2="part9" id="msg15"><polygon fill="#181818" points="1151.062,635.7891,1161.062,639.7891,1151.062,643.7891,1155.062,639.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="934.4897" x2="1157.062" y1="639.7891" y2="639.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5" x="987.0259" y="634.7231">Consume message</text></g><g class="message" data-entity-1="part9" data-entity-2="part10" id="msg16"><polygon fill="#181818" points="1378.1934,664.9219,1388.1934,668.9219,1378.1934,672.9219,1382.1934,668.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1163.062" x2="1384.1934" y1="668.9219" y2="668.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.9634" x="1195.146" y="663.856">DetectLandmarks(photo)</text></g><g class="message" data-entity-1="part10" data-entity-2="part9" id="msg17"><polygon fill="#181818" points="1174.062,709.1875,1164.062,713.1875,1174.062,717.1875,1170.062,713.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1168.062" x2="1389.1934" y1="713.1875" y2="713.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1313" x="1175.062" y="692.9888">{landmark: "Statue of Liberty",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8921" x="1218.1816" y="708.1216">confidence: 0.97}</text></g><g class="message" data-entity-1="part9" data-entity-2="part11" id="msg18"><polygon fill="#181818" points="1503.6113,753.4531,1513.6113,757.4531,1503.6113,761.4531,1507.6113,757.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1163.062" x2="1509.6113" y1="757.4531" y2="757.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1284" x="1270.7725" y="737.2544">Generate description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.6509" x="1268.0112" y="752.3872">for "Statue of Liberty"</text></g><g class="message" data-entity-1="part11" data-entity-2="part9" id="msg19"><polygon fill="#181818" points="1174.062,782.5859,1164.062,786.5859,1174.062,790.5859,1170.062,786.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1168.062" x2="1514.6113" y1="786.5859" y2="786.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.6211" x="1246.0261" y="781.52">Rich description (500 words)</text></g><g class="message" data-entity-1="part9" data-entity-2="part6" id="msg20"><polygon fill="#181818" points="813.3057,826.8516,803.3057,830.8516,813.3057,834.8516,809.3057,830.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="807.3057" x2="1162.062" y1="830.8516" y2="830.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.6616" x="920.353" y="810.6528">Update recognition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.5752" x="918.8962" y="825.7856">(status: completed)</text></g><g class="message" data-entity-1="part9" data-entity-2="part7" id="msg21"><polygon fill="#181818" points="888.8877,871.1172,878.8877,875.1172,888.8877,879.1172,884.8877,875.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="882.8877" x2="1162.062" y1="875.1172" y2="875.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.6245" x="979.6626" y="854.9185">Cache result</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.1743" x="889.8877" y="870.0513">(landmark_hash &#8594; description, 24h TTL)</text></g><g class="message" data-entity-1="part2" data-entity-2="part5" id="msg22"><polygon fill="#181818" points="610.6421,915.3828,620.6421,919.3828,610.6421,923.3828,614.6421,919.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="237.8799" x2="616.6421" y1="919.3828" y2="919.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.958" x="344.282" y="899.1841">GET /api/recognitions/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.7119" x="373.405" y="914.3169">(polling every 2s)</text></g><g class="message" data-entity-1="part5" data-entity-2="part6" id="msg23"><polygon fill="#181818" points="790.3057,944.5156,800.3057,948.5156,790.3057,952.5156,794.3057,948.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="622.6421" x2="796.3057" y1="948.5156" y2="948.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.1558" x="673.896" y="943.4497">Fetch result</text></g><g class="message" data-entity-1="part6" data-entity-2="part5" id="msg24"><polygon fill="#181818" points="633.6421,973.6484,623.6421,977.6484,633.6421,981.6484,629.6421,977.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="627.6421" x2="801.3057" y1="977.6484" y2="977.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.4844" x="638.2317" y="972.5825">Completed recognition</text></g><g class="message" data-entity-1="part5" data-entity-2="part2" id="msg25"><polygon fill="#181818" points="248.8799,1002.7813,238.8799,1006.7813,248.8799,1010.7813,244.8799,1006.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="242.8799" x2="621.6421" y1="1006.7813" y2="1006.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.9819" x="295.77" y="1001.7153">200 {description, attraction, confidence}</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg26"><polygon fill="#181818" points="58.2095,1031.9141,48.2095,1035.9141,58.2095,1039.9141,54.2095,1035.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="52.2095" x2="236.8799" y1="1035.9141" y2="1035.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.6704" x="59.2095" y="1030.8481">Show description + audio</text></g><path d="M882,1055.9141 L882,1095.9141 L1052,1095.9141 L1052,1065.9141 L1042,1055.9141 L882,1055.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1042,1055.9141 L1042,1065.9141 L1052,1065.9141 L1042,1055.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.9951" x="888" y="1072.981">AI result caching saves</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3652" x="888" y="1088.1138">40-60% of API costs</text><?plantuml-src bLHDRnit4BtpLmmC190GknO49q7tK41MNSU9N2cMwbuC11GvtYMq8ZSarueh2CWfFo3eBymloP3KIhj0UkXjmNdpzTwRTIkbAsxv6fPSh79hQYt7fZGMDeNooDmXxl1JZLhWBJh7SnoLAjSWK7kqBPH5Lndj6jGbbcOpijPimDiQ6VFAbmYpmdW3ToXChfLNHiFtB__2MrvLpp3Zlc2C2qypB4njbVECQdibLCMrXnCrdSCvZBIqHiaJu0uehmiPJIvJe5ns0-FOqAHWJOqwqLkZJQby0QFPpOFkNOtd_NrznIJtVCaTmidCE9zRd7-OnA1Sjc9tA9MBpuAB0XbHLjFp_CCyFhfFhjjnmjTBoQdNw2QrAkD35tHjJ4watIj7J4NKK_piegOLwj4DNCyMPnVt4PLNdh4zXN3sMw0fWmLVeOCg2c0UgP-MQsvNZ88HKoupc4td2pYdhS_jKIBteBSnBOEmw-kB7IDmp24YCxZdfI8Y4DxzlM3X2SwQUiF10ARlsG5VgGpkJ4rO6qn50jFJCO9E_OFx4Njh_Xc6jvVz1YAftfm_XTIZUyAtbKIZyzpNBWFYGYgT7xAY6XcC2nIhVUM2ksAl4WtcOHm-WKmFlPKs6tsWfiyWuT92OSI8bI3H2QkgC09XOglsojjM_1IuzvPSJT-x00vKD9gycq__39TJbpxMgM9ehnojMz3vj6h1Iw9SAiEm9C-bkTVAkMQ6VTNXO0WZ8R3oDEgsHTT79NT7B7aoWokTd9geUQJJgwmHTCD48YCiWG8skPFs9plKQ-gQhfm0AH8moPiP_8uUXP_iINIzM3fmcG1nnQRUjk4weri94cBmvaGjqVhdazC7BOn-L3ByVZ8O_FBhcnthz2IdPt2D6cqmO8kg1nrs-KbDIgUapX1tIXGTcdklICGD6Slrk-s21_-gejbRjBRi9yowAcb_sU_aDIwCYYMzAQdP_MDqvFUltw3Zc-550Ol598xG76dmuFNLJsxqV4lQKitAb2L91_Y4zXc6hd_KEmp_1thQzU0ukMnPknczlLhRtSbQ_-tkKpYAjVj_TjQICMq2goelV90htIS0_TZIjF4bRERe7n0SVp4uUpru4R3qqwRMphjG24AT7m00?></g></svg>